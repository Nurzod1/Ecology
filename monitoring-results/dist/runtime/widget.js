System.register(["jimu-core"],(function(e,t){var r={};return{setters:[function(e){r.LinkType=e.LinkType,r.React=e.React,r.jimuHistory=e.jimuHistory,r.jsx=e.jsx}],execute:function(){e((()=>{var e={4648:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(8081),a=r.n(o),n=r(3645),s=r.n(n)()(a());s.push([e.id,'.monitoring-results-table-wrapper{position:relative;width:100%;height:100%;display:flex;flex-direction:column}.monitoring-results-table{width:100%;border-collapse:collapse;background-color:rgba(0,0,0,0);table-layout:fixed}.monitoring-results-table thead{display:table;width:calc(100% - 12px);table-layout:fixed}.monitoring-results-table thead th{text-align:left;padding:20px 24px;font-size:13px;font-weight:600;color:#fff;border-bottom:1px solid rgba(255,255,255,.08);white-space:nowrap;letter-spacing:.5px}.monitoring-results-tbody-container{flex:1;overflow-y:auto;overflow-x:hidden;padding-right:12px;scrollbar-width:none;-ms-overflow-style:none}.monitoring-results-tbody-container::-webkit-scrollbar{display:none}.monitoring-results-tbody-container .monitoring-results-table{display:table;width:100%;table-layout:fixed}.monitoring-results-col-id{width:350px;min-width:350px}.monitoring-results-col-status{width:auto}.monitoring-results-header-id{width:350px;min-width:350px}.monitoring-results-header-status{padding:20px 55px !important}.monitoring-results-header-columns{position:relative;width:100%;height:20px}.monitoring-results-column-label{position:absolute;transform:translateX(-50%);text-align:center;font-size:13px;font-weight:600;letter-spacing:.5px;white-space:nowrap}.monitoring-results-header-columns .monitoring-results-column-label:nth-child(1){left:0%}.monitoring-results-header-columns .monitoring-results-column-label:nth-child(2){left:50%}.monitoring-results-header-columns .monitoring-results-column-label:nth-child(3){left:100%}.monitoring-results-table tbody tr{border-bottom:1px solid rgba(255,255,255,.05);cursor:pointer;transition:background-color .2s ease}.monitoring-results-table tbody tr:hover{background:linear-gradient(0deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.1)),linear-gradient(0deg, rgba(66, 81, 242, 0.15), rgba(66, 81, 242, 0.15));border-top:1px solid rgba(255,255,255,.0509803922)}.monitoring-results-table tbody tr.selected{background-color:rgba(74,144,226,.08)}.monitoring-results-table tbody td{padding:20px 24px;color:#fff;font-size:13px;vertical-align:middle}.monitoring-results-id{font-family:"Courier New",monospace;color:#fff;font-size:12px;letter-spacing:.3px;width:350px;min-width:350px}.monitoring-results-status-cell{padding:20px 40px !important}.monitoring-results-error,.monitoring-results-loading{display:flex;align-items:center;justify-content:center;height:200px;color:#fff;font-size:14px}.monitoring-results-scrollbar{position:absolute;top:65px;right:2px;bottom:0;width:6px;background:rgba(0,0,0,0);border-radius:3px;pointer-events:none}.monitoring-results-scrollbar-thumb{position:absolute;width:100%;background:#4a90e2;border-radius:3px;transition:top .1s ease;pointer-events:auto;cursor:grab;user-select:none}.monitoring-results-scrollbar-thumb:active{cursor:grabbing}.monitoring-results-scrollbar-thumb:hover{background:#5aa0f2}.monitoring-results-bottom-fade{position:absolute;bottom:0;left:0;right:12px;height:80px;pointer-events:none;background:linear-gradient(to bottom, rgba(10, 51, 87, 0), rgba(10, 51, 87, 0), rgba(13, 27, 49, 0), rgba(13, 27, 49, 0), #0D1B33);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);z-index:10;mask-image:linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.3) 30%, rgb(0, 0, 0) 100%);-webkit-mask-image:linear-gradient(to bottom, transparent 0%, rgba(0, 0, 0, 0.3) 30%, rgb(0, 0, 0) 100%)}',""]);const i=s},3566:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(8081),a=r.n(o),n=r(3645),s=r.n(n)()(a());s.push([e.id,".status-indicator-container{width:100%;height:100%;display:flex;align-items:center;justify-content:center;padding:16px 0}.status-indicator-track{position:relative;width:100%;height:4px;display:flex;align-items:center}.status-indicator-line-background{position:absolute;height:3px;background-color:rgba(45,62,95,.3);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);filter:blur(2px);z-index:1}.status-indicator-line{position:absolute;height:3px;background-color:#28bec1;z-index:2;transition:width .6s ease-in-out;overflow:hidden}.status-indicator-line.animated{background:linear-gradient(90deg, rgba(40, 190, 193, 0.2) 0%, rgba(40, 190, 193, 0.4) 15%, rgb(40, 190, 193) 30%, rgba(40, 190, 193, 0.4) 45%, rgba(40, 190, 193, 0.2) 60%, rgba(40, 190, 193, 0) 75%, rgba(40, 190, 193, 0) 100%);background-size:300% 100%;animation:lineWaveFlow 6s linear infinite}@keyframes lineWaveFlow{0%{background-position:100% 0}100%{background-position:-200% 0}}.status-indicator-line.first-segment,.status-indicator-line.second-segment{border-radius:0}.status-indicator-circle{position:absolute;width:16px;height:16px;border-radius:50%;transform:translateX(-50%);transition:all .3s ease;z-index:2;display:flex;align-items:center;justify-content:center}.status-indicator-circle.uzcosmos{z-index:3;animation:pulseBlue 2s ease-in-out infinite}.status-indicator-circle.ekologiya{z-index:4}.status-indicator-circle.ekologiya.animate-red{animation:pulseRedEkologiya 2s ease-in-out infinite}.status-indicator-circle.ekologiya.animate-yellow{animation:pulseYellow 2s ease-in-out infinite}.status-indicator-circle.ekologiya.animate-blue{animation:pulseBlueEkologiya 2s ease-in-out infinite}.status-indicator-circle.ekologiya.animate-cyan{animation:pulseCyan 2s ease-in-out infinite}.status-indicator-circle.ekologiya.animate-blue-gray{animation:pulseBlueGray 2s ease-in-out infinite}.status-indicator-circle.prokratura{z-index:5;animation:pulseGray 2s ease-in-out infinite}.status-indicator-inner-circle{width:6px;height:6px;border-radius:50%;background-color:#0d1f3c}@keyframes pulseBlue{0%,100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 0 rgba(40,190,193,.7)}50%{transform:translateX(-50%) scale(1.15);box-shadow:0 0 0 10px rgba(40,190,193,0)}}@keyframes pulseGray{0%,100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 0 rgba(122,168,224,.7)}50%{transform:translateX(-50%) scale(1.15);box-shadow:0 0 0 10px rgba(122,168,224,0)}}@keyframes pulseRedEkologiya{0%,100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 0 rgba(193,40,98,.8),0 0 20px rgba(193,40,98,.4)}50%{transform:translateX(-50%) scale(1.2);box-shadow:0 0 0 12px rgba(193,40,98,0),0 0 25px rgba(193,40,98,.6)}}@keyframes pulseRed{0%,100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 0 rgba(255,59,59,.8),0 0 20px rgba(255,59,59,.4)}50%{transform:translateX(-50%) scale(1.2);box-shadow:0 0 0 12px rgba(255,59,59,0),0 0 25px rgba(255,59,59,.6)}}@keyframes pulseYellow{0%,100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 0 rgba(255,193,7,.8),0 0 20px rgba(255,193,7,.4)}50%{transform:translateX(-50%) scale(1.2);box-shadow:0 0 0 12px rgba(255,193,7,0),0 0 25px rgba(255,193,7,.6)}}@keyframes pulseBlueEkologiya{0%,100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 0 rgba(74,144,226,.7)}50%{transform:translateX(-50%) scale(1.15);box-shadow:0 0 0 10px rgba(74,144,226,0)}}@keyframes pulseCyan{0%,100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 0 rgba(40,190,193,.8),0 0 20px rgba(40,190,193,.4)}50%{transform:translateX(-50%) scale(1.2);box-shadow:0 0 0 12px rgba(40,190,193,0),0 0 25px rgba(40,190,193,.6)}}@keyframes pulseBlueGray{0%,100%{transform:translateX(-50%) scale(1);box-shadow:0 0 0 0 rgba(81,116,146,.8),0 0 20px rgba(81,116,146,.4)}50%{transform:translateX(-50%) scale(1.2);box-shadow:0 0 0 12px rgba(81,116,146,0),0 0 25px rgba(81,116,146,.6)}}",""]);const i=s},3796:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r(8081),a=r.n(o),n=r(3645),s=r.n(n)()(a());s.push([e.id,".monitoring-results-widget{width:100%;height:100%;display:flex;flex-direction:column;background:rgba(16,28,50,.3);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#fff;overflow:hidden;box-sizing:border-box;border-radius:20px;border:1px solid rgba(255,255,255,.05);z-index:9999;position:relative}.monitoring-results-header{padding:20px 24px;border-bottom:1px solid rgba(255,255,255,.08);flex-shrink:0}.monitoring-results-title{margin:0;font-size:18px;font-weight:600;color:#fff;letter-spacing:.5px}.monitoring-results-content{flex:1;overflow:hidden;display:flex;flex-direction:row;gap:20px;box-sizing:border-box}.monitoring-results-table-section{flex:1;min-width:0;display:flex;flex-direction:column;overflow:hidden}.monitoring-results-chart-section{width:500px;min-width:500px;display:flex;flex-direction:column;overflow:hidden}@media(max-width: 1200px){.monitoring-results-content{flex-direction:column}.monitoring-results-chart-section{width:100%;min-width:100%;height:400px}}",""]);const i=s},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",o=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),o&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),o&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,o,a,n){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);o&&s[u[0]]||(void 0!==n&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=n),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},3379:e=>{"use strict";var t=[];function r(e){for(var r=-1,o=0;o<t.length;o++)if(t[o].identifier===e){r=o;break}return r}function o(e,o){for(var n={},s=[],i=0;i<e.length;i++){var l=e[i],c=o.base?l[0]+o.base:l[0],u=n[c]||0,d="".concat(c," ").concat(u);n[c]=u+1;var g=r(d),m={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==g)t[g].references++,t[g].updater(m);else{var p=a(m,o);o.byIndex=i,t.splice(i,0,{identifier:d,updater:p,references:1})}s.push(d)}return s}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var n=o(e=e||[],a=a||{});return function(e){e=e||[];for(var s=0;s<n.length;s++){var i=r(n[s]);t[i].references--}for(var l=o(e,a),c=0;c<n.length;c++){var u=r(n[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}n=l}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var o=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(r)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var o="";r.supports&&(o+="@supports (".concat(r.supports,") {")),r.media&&(o+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(o+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),o+=r.css,a&&(o+="}"),r.media&&(o+="}"),r.supports&&(o+="}");var n=r.sourceMap;n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8891:e=>{"use strict";e.exports=r}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={id:r,exports:{}};return e[r](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="",o.nc=void 0;var a={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(a),o.d(a,{__set_webpack_public_path__:()=>R,default:()=>E});var e=o(8891),t=o(3379),r=o.n(t),n=o(7795),s=o.n(n),i=o(569),l=o.n(i),c=o(3565),u=o.n(c),d=o(9216),g=o.n(d),m=o(4589),p=o.n(m),f=o(3566),b={};b.styleTagTransform=p(),b.setAttributes=u(),b.insert=l().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=g(),r()(f.Z,b),f.Z&&f.Z.locals&&f.Z.locals;const h=({uzcosmosStatus:t,uzcosmosProgress:r,ekologiyaStatus:o,ekologiya:a,prokraturaStatus:n,prokraturaProgress:s})=>{const i=null===a?25:50+50*(!0===a?.5:0);return(0,e.jsx)("div",{className:"status-indicator-container"},(0,e.jsx)("div",{className:"status-indicator-track"},(0,e.jsx)("div",{className:"status-indicator-line-background first-segment-bg",style:{left:"0%",width:"50%"}}),(0,e.jsx)("div",{className:"status-indicator-line animated",style:{left:"0%",width:`${i}%`}}),(0,e.jsx)("div",{className:"status-indicator-line-background second-segment-bg",style:{left:"50%",width:"50%"}}),(0,e.jsx)("div",{className:"status-indicator-circle uzcosmos",style:{left:"0%",backgroundColor:"#28BEC1"}}),(0,e.jsx)("div",{className:"status-indicator-circle ekologiya "+(!0===a?"animate-cyan":!1===a?"animate-red":"animate-blue-gray"),style:{left:"50%",backgroundColor:!0===a?"#28BEC1":!1===a?"#C12862":"#517492"}}),(0,e.jsx)("div",{className:"status-indicator-circle prokratura",style:{left:"100%",backgroundColor:"#7aa8e0",border:"2px solid #2d3e5f"}},(0,e.jsx)("div",{className:"status-indicator-inner-circle"}))))},x={uz:{loading:"Yuklanmoqda...",error:"Xatolik yuz berdi",noData:"Ma'lumotlar topilmadi",idColumn:"№ ID",uzcosmos:"UZCOSMOS",ekologiya:"EKOLOGIYA",prokuratura:"PROKRATURA"},uzcryl:{loading:"Юкланмоқда...",error:"Хатолик юз берди",noData:"Маълумотлар топилмади",idColumn:"№ ID",uzcosmos:"UZCOSMOS",ekologiya:"EKOLOGIYA",prokuratura:"PROKRATURA"},ru:{loading:"Загрузка...",error:"Произошла ошибка",noData:"Данные отсутствуют",idColumn:"№ ID",uzcosmos:"UZCOSMOS",ekologiya:"ЭКОЛОГИЯ",prokuratura:"ПРОКУРАТУРА"}};var y=o(4648),v={};v.styleTagTransform=p(),v.setAttributes=u(),v.insert=l().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=g(),r()(y.Z,v),y.Z&&y.Z.locals&&y.Z.locals;const w=e=>e?"uz-Latn"===e?"uz":"uz-Cyrl"===e?"uzcryl":"uz"===e||"uzcryl"===e||"ru"===e?e:"ru":"ru",k=({data:t,loading:r,error:o,selectedRowId:a,onRowClick:n})=>{const[s,i]=e.React.useState((()=>{try{const e=localStorage.getItem("customLocal");return w(e)}catch(e){return"ru"}})),l=x[s]||x.ru,c=e.React.useRef(null),u=e.React.useRef(null),[d,g]=e.React.useState(40),[m,p]=e.React.useState(0),[f,b]=e.React.useState(!1),[y,v]=e.React.useState(!1),k=e.React.useRef(0),S=e.React.useRef(0);return e.React.useEffect((()=>{const e=()=>{try{const e=localStorage.getItem("customLocal"),t=w(e);i((e=>t!==e?t:e))}catch(e){}};e();const t=t=>{"customLocal"!==t.key&&null!==t.key||e()};window.addEventListener("storage",t);const r=setInterval(e,500);return()=>{window.removeEventListener("storage",t),clearInterval(r)}}),[]),e.React.useEffect((()=>{if(!a||!c.current)return;const e=c.current.querySelector(`tr[data-row-id="${a}"]`);e instanceof HTMLElement&&e.scrollIntoView({block:"center",behavior:"smooth"})}),[a,t]),e.React.useEffect((()=>{const e=()=>{if(!c.current||!u.current)return;const e=c.current,t=e.scrollHeight,r=e.clientHeight,o=u.current.clientHeight;if(t>r){const a=r/t,n=Math.max(40,o*a);g(n);const s=e.scrollTop,i=t-r;if(v(i>0&&s<i-10),i>0){const e=Math.max(0,o-n),t=Math.min(1,Math.max(0,s/i));p(t*e)}}else g(o),p(0),v(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[t]),e.React.useEffect((()=>{if(!f)return;const e=e=>{if(!c.current||!u.current)return;const t=c.current,r=t.scrollHeight-t.clientHeight;if(r<=0)return;const o=u.current.clientHeight,a=Math.max(0,o-d),n=(e.clientY-k.current)/o,s=Math.max(0,Math.min(r,S.current+n*r));t.scrollTop=s;const i=Math.min(1,Math.max(0,s/r));p(i*a)},t=()=>{b(!1)};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[f,d]),o?(0,e.jsx)("div",{className:"monitoring-results-error"},(0,e.jsx)("p",null,l.error,": ",o)):r?(0,e.jsx)("div",{className:"monitoring-results-loading"},(0,e.jsx)("p",null,l.loading)):(0,e.jsx)("div",{className:"monitoring-results-table-wrapper"},(0,e.jsx)("table",{className:"monitoring-results-table"},(0,e.jsx)("thead",null,(0,e.jsx)("tr",null,(0,e.jsx)("th",{className:"monitoring-results-header-id"},l.idColumn),(0,e.jsx)("th",{className:"monitoring-results-header-status",colSpan:3},(0,e.jsx)("div",{className:"monitoring-results-header-columns"},(0,e.jsx)("span",{className:"monitoring-results-column-label"},l.uzcosmos),(0,e.jsx)("span",{className:"monitoring-results-column-label"},l.ekologiya),(0,e.jsx)("span",{className:"monitoring-results-column-label"},l.prokuratura)))))),(0,e.jsx)("div",{className:"monitoring-results-tbody-container",ref:c,onScroll:e=>{if(f)return;const t=e.currentTarget,r=t.scrollTop,o=t.scrollHeight-t.clientHeight;if(v(o>0&&r<o-10),o>0&&u.current){const e=u.current.clientHeight,t=Math.max(0,e-d),a=Math.min(1,Math.max(0,r/o));p(a*t)}else p(0)}},(0,e.jsx)("table",{className:"monitoring-results-table"},(0,e.jsx)("colgroup",null,(0,e.jsx)("col",{className:"monitoring-results-col-id"}),(0,e.jsx)("col",{className:"monitoring-results-col-status"})),(0,e.jsx)("tbody",{className:"monitoring-results-table-body"},t.map((t=>{const r=a===t.id;return(0,e.jsx)("tr",{key:t.id,className:"monitoring-results-row "+(r?"selected":""),onClick:()=>n&&n(t),"data-row-id":t.id},(0,e.jsx)("td",{className:"monitoring-results-id"},t.id),(0,e.jsx)("td",{className:"monitoring-results-status-cell",colSpan:3},(0,e.jsx)(h,{uzcosmosStatus:t.uzcosmos.status,uzcosmosProgress:t.uzcosmos.progress,ekologiyaStatus:t.ekologiya.status,ekologiya:t.ekologiya.value,prokraturaStatus:t.prokuratura.status,prokraturaProgress:t.prokuratura.progress})))}))))),(0,e.jsx)("div",{ref:u,className:"monitoring-results-scrollbar"},(0,e.jsx)("div",{className:"monitoring-results-scrollbar-thumb",style:{height:`${d}px`,top:`${m}px`},onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),b(!0),k.current=e.clientY,c.current&&(S.current=c.current.scrollTop)}})),y&&(0,e.jsx)("div",{className:"monitoring-results-bottom-fade"}))};var S=o(3796),j={};j.styleTagTransform=p(),j.setAttributes=u(),j.insert=l().bind(null,"head"),j.domAPI=s(),j.insertStyleElement=g(),r()(S.Z,j),S.Z&&S.Z.locals&&S.Z.locals;const I="selectedId",z=e=>e?"uz-Latn"===e?"uz":"uz-Cyrl"===e?"uzcryl":"uz"===e||"uzcryl"===e||"ru"===e?e:"ru":"ru",E=t=>{const[r,o]=e.React.useState((()=>{try{const e=localStorage.getItem("customLocal");return z(e)}catch(e){return"ru"}})),a=()=>{try{return localStorage.getItem(I)||void 0}catch(e){return}},[n,s]=e.React.useState((()=>a())),[i,l]=e.React.useState([]),[c,u]=e.React.useState(!0),[d,g]=e.React.useState(null);e.React.useEffect((()=>{const e=()=>{try{const e=localStorage.getItem("customLocal"),t=z(e);o((e=>t!==e?t:e))}catch(e){}};e();const t=t=>{"customLocal"!==t.key&&null!==t.key||e()};window.addEventListener("storage",t);const r=setInterval(e,500);return()=>{window.removeEventListener("storage",t),clearInterval(r)}}),[]);const[m,p]=e.React.useState((()=>{try{return localStorage.getItem("authToken")||localStorage.getItem("token")||t.config.apiToken}catch(e){return t.config.apiToken}})());return e.React.useEffect((()=>{const e=()=>{return e=void 0,r=void 0,a=function*(){u(!0),g(null);try{const e=localStorage.getItem("selectedYear"),r=localStorage.getItem("selectedSoato"),o=localStorage.getItem("selectedDistrict"),a=localStorage.getItem("status"),n=0,s=t.config.apiBaseUrl||"http://10.0.71.2:8000",i=new URL(`${s}/api/ecology/`);if(e&&i.searchParams.append("year",e),r&&"all"!==r){const e=r.length;o||e>=7?i.searchParams.append("district",r):4===e&&i.searchParams.append("region",r)}a&&i.searchParams.append("status",a),i.searchParams.append("offset",n.toString());const c={"Content-Type":"application/json",accept:"application/json"};m&&(c.Authorization=`Bearer ${m}`),console.log("Fetching monitoring results from:",i.toString());const u=yield fetch(i.toString(),{headers:c});if(!u.ok){const e=yield u.text();throw console.error("API Error:",u.status,e),new Error(`API request failed: ${u.status} ${u.statusText}`)}const d=yield u.json();console.log("API Data received:",d);const g=(d.data||[]).map((e=>{const t=e=>null!=e&&2!==e&&"2"!==e&&(1===e||"1"===e),r=t(e.uzspace),o=null==(a=e.tekshirish)?null:2!==a&&"2"!==a&&(1===a||"1"===a);var a;const n=t(e.prokuratura);return{id:e.globalid||`{${e.gid}}`,uzcosmos:{status:r?"completed":"pending",progress:100},ekologiya:{status:(e=>null===e?"pending":e?"completed":"pending")(o),value:o},prokuratura:{status:n?"completed":"pending",progress:n?100:0}}}));l(g)}catch(e){console.error("Fetch error:",e),g(e instanceof Error?e.message:"Failed to load data")}finally{u(!1)}},new((o=void 0)||(o=Promise))((function(t,n){function s(e){try{l(a.next(e))}catch(e){n(e)}}function i(e){try{l(a.throw(e))}catch(e){n(e)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(e){e(r)}))).then(s,i)}l((a=a.apply(e,r||[])).next())}));var e,r,o,a};let r=localStorage.getItem("selectedYear"),o=localStorage.getItem("selectedSoato"),a=localStorage.getItem("selectedDistrict"),n=localStorage.getItem("status");e();const s=t=>{if("selectedYear"===t.key||"selectedSoato"===t.key||"selectedDistrict"===t.key||"status"===t.key){const t=localStorage.getItem("selectedYear"),s=localStorage.getItem("selectedSoato"),i=localStorage.getItem("selectedDistrict"),l=localStorage.getItem("status");t===r&&s===o&&i===a&&l===n||(r=t,o=s,a=i,n=l,e())}},i=t=>{const r=t.detail||localStorage.getItem("selectedSoato");r!==o&&(o=r,e())},c=t=>{const r=t.detail||localStorage.getItem("selectedDistrict");r!==a&&(a=r,e())},d=setInterval((()=>{const t=localStorage.getItem("selectedYear"),s=localStorage.getItem("selectedSoato"),i=localStorage.getItem("selectedDistrict"),l=localStorage.getItem("status");t===r&&s===o&&i===a&&l===n||(r=t,o=s,a=i,n=l,e())}),100);return window.addEventListener("storage",s),window.addEventListener("custom-map-region-change",i),window.addEventListener("custom-map-district-change",c),()=>{window.removeEventListener("storage",s),window.removeEventListener("custom-map-region-change",i),window.removeEventListener("custom-map-district-change",c),clearInterval(d)}}),[m,t.config.apiBaseUrl]),e.React.useEffect((()=>{const e=()=>{const e=a();s((t=>t!==e?e:t))};e();const t=e=>{e.key===I&&s(e.newValue||void 0)},r=()=>{e()};window.addEventListener("storage",t),window.addEventListener("localStorageChange",r);const o=setInterval(e,500);return()=>{window.removeEventListener("storage",t),window.removeEventListener("localStorageChange",r),clearInterval(o)}}),[]),(0,e.jsx)("div",{className:"monitoring-results-widget"},(0,e.jsx)("div",{className:"monitoring-results-content"},(0,e.jsx)("div",{className:"monitoring-results-table-section"},(0,e.jsx)(k,{data:i,loading:c,error:d,selectedRowId:n,onRowClick:r=>{s(r.id);try{localStorage.setItem(I,r.id),window.dispatchEvent(new CustomEvent("localStorageChange",{detail:{key:I,value:r.id}}))}catch(e){}const o=t.config.linkParam;if(o&&o.linkType&&o.linkType!==e.LinkType.None&&o.linkType===e.LinkType.Page&&o.value){const t=o.value,r=o.openType||"_self";if("_blank"===r){const e=`${window.location.href.split("#")[0]}page/${t}/`;window.open(e,"_blank")}else if("_top"===r){const e=window.top.location.href.split("#")[0];window.top.location.href=`${e}page/${t}/`}else e.jimuHistory.changePage(t)}}}))))};function R(e){o.p=e}})(),a})())}}}));